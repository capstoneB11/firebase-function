[debug] [2023-11-10T09:07:40.596Z] ----------------------------------------------------------------------
[debug] [2023-11-10T09:07:40.598Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2023-11-10T09:07:40.598Z] CLI Version:   12.7.0
[debug] [2023-11-10T09:07:40.599Z] Platform:      darwin
[debug] [2023-11-10T09:07:40.599Z] Node Version:  v18.16.0
[debug] [2023-11-10T09:07:40.605Z] Time:          Fri Nov 10 2023 16:07:40 GMT+0700 (Western Indonesia Time)
[debug] [2023-11-10T09:07:40.605Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-11-10T09:07:40.699Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-11-10T09:07:40.700Z] > authorizing via signed-in user (ahmadyazid2020@mail.ugm.ac.id)
[debug] [2023-11-10T09:07:40.864Z] java version "21.0.1" 2023-10-17 LTS

[debug] [2023-11-10T09:07:40.865Z] Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)
Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)

[debug] [2023-11-10T09:07:40.871Z] Parsed Java major version: 21
[info] i  emulators: Starting emulators: functions, firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, firestore"}}
[debug] [2023-11-10T09:07:41.213Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-10T09:07:41.213Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-10T09:07:41.213Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-10T09:07:41.213Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-11-10T09:07:41.221Z] [hub] writing locator at /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/hub-capstone-c501.json
[debug] [2023-11-10T09:07:41.357Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-10T09:07:41.357Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-10T09:07:41.357Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-11-10T09:07:41.359Z] defaultcredentials: writing to file /Users/ahmadyazidnaufan/.config/firebase/ahmadyazid2020_mail_ugm.ac.id_application_default_credentials.json
[debug] [2023-11-10T09:07:41.362Z] Setting GAC to /Users/ahmadyazidnaufan/.config/firebase/ahmadyazid2020_mail_ugm.ac.id_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ahmadyazidnaufan/.config/firebase/ahmadyazid2020_mail_ugm.ac.id_application_default_credentials.json"}}
[debug] [2023-11-10T09:07:41.364Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/capstone-c501/adminSdkConfig [none]
[debug] [2023-11-10T09:07:42.207Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/capstone-c501/adminSdkConfig 200
[debug] [2023-11-10T09:07:42.208Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/capstone-c501/adminSdkConfig {"projectId":"capstone-c501","storageBucket":"capstone-c501.appspot.com","locationId":"asia-southeast1"}
[debug] [2023-11-10T09:07:42.230Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-11-10T09:07:42.230Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2023-11-10T09:07:42.230Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/Users/ahmadyazidnaufan/.cache/firebase/emulators/cloud-firestore-emulator-v1.18.2.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","capstone-c501","--rules","/Users/ahmadyazidnaufan/Repo/firebase-function/firestore.rules","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/Users/ahmadyazidnaufan/.cache/firebase/emulators/cloud-firestore-emulator-v1.18.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"capstone-c501\",\"--rules\",\"/Users/ahmadyazidnaufan/Repo/firebase-function/firestore.rules\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[debug] [2023-11-10T09:07:43.082Z] Nov 10, 2023 4:07:43 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:43 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://127.0.0.1:9150\n"}}
[debug] [2023-11-10T09:07:43.105Z] API endpoint: http:// {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://"}}
[debug] [2023-11-10T09:07:43.105Z] 127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"127.0.0.1:8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080\n\nDev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2023-11-10T09:07:43.249Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-11-10T09:07:43.249Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-11-10T09:07:43.249Z] Starting Emulator UI with command {"binary":"node","args":["/Users/ahmadyazidnaufan/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/ahmadyazidnaufan/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-11-10T09:07:43.344Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-11-10T09:07:43.344Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/ahmadyazidnaufan/Repo/firebase-function/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ahmadyazidnaufan/Repo/firebase-function/functions\" for Cloud Functions..."}}
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: could not deploy functions because the "functions" directory was not found. Please create it or specify a different source directory in firebase.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: could not deploy functions because the \u001b[1m\"functions\"\u001b[22m directory was not found. Please create it or specify a different source directory in firebase.json"}}
[info] i  functions: Watching "/Users/ahmadyazidnaufan/Repo/firebase-function/test" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ahmadyazidnaufan/Repo/firebase-function/test\" for Cloud Functions..."}}
[debug] [2023-11-10T09:07:43.509Z] Validating nodejs source
[debug] [2023-11-10T09:07:44.420Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:07:44.420Z] Building nodejs source
[debug] [2023-11-10T09:07:44.421Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:07:44.424Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:07:44.428Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8151

[debug] [2023-11-10T09:07:44.653Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:07:44.663Z] Found a v2 firestore trigger.
[debug] [2023-11-10T09:07:44.663Z] addFirestoreTrigger "{\"eventType\":\"google.cloud.firestore.document.v1.written\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":{\"value\":\"fun-test/{id}\",\"matchType\":\"PATH_PATTERN\"}}"
[debug] [2023-11-10T09:07:44.663Z] >>> [apiv2][query] POST http://127.0.0.1:8080/emulator/v1/projects/capstone-c501/eventarcTrigger?eventarcTriggerId=us-central1-onDocumentWritten-0 [none]
[debug] [2023-11-10T09:07:44.663Z] >>> [apiv2][body] POST http://127.0.0.1:8080/emulator/v1/projects/capstone-c501/eventarcTrigger?eventarcTriggerId=us-central1-onDocumentWritten-0 "{\"eventType\":\"google.cloud.firestore.document.v1.written\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":{\"value\":\"fun-test/{id}\",\"matchType\":\"PATH_PATTERN\"}}"
[debug] [2023-11-10T09:07:44.668Z] Nov 10, 2023 4:07:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:44.785Z] Nov 10, 2023 4:07:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:45.156Z] <<< [apiv2][status] POST http://127.0.0.1:8080/emulator/v1/projects/capstone-c501/eventarcTrigger?eventarcTriggerId=us-central1-onDocumentWritten-0 200
[debug] [2023-11-10T09:07:45.156Z] <<< [apiv2][body] POST http://127.0.0.1:8080/emulator/v1/projects/capstone-c501/eventarcTrigger?eventarcTriggerId=us-central1-onDocumentWritten-0 {"eventType":"google.cloud.firestore.document.v1.written","database":"(default)","namespace":"(default)","document":{"value":"fun-test/{id}","matchType":"PATH_PATTERN"}}
[info] ✔  functions[us-central1-onDocumentWritten]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Firestore │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-11-10T09:07:51.299Z] Nov 10, 2023 4:07:51 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:51 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-11-10T09:07:52.182Z] Nov 10, 2023 4:07:52 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:52 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-11-10T09:07:52.202Z] Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:52.206Z] Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:52.212Z] Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:52.251Z] Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:56.157Z] Nov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:56.169Z] Nov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:56.308Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:07:56.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:07:56.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:07:56.308Z"],"workRunningCount":1}
[debug] [2023-11-10T09:07:56.310Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:07:56.366Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:07:56.372Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:07:56.384Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:07:56.385Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:07:56.388Z] Nov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nNov 10, 2023 4:07:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:07:57.197Z] Nov 10, 2023 4:07:57 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:57 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-11-10T09:07:57.255Z] [runtime-status] [67976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:07:57.256Z] [runtime-status] [67976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:07:57.256Z] [runtime-status] [67976] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:07:57.256Z] [runtime-status] [67976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:07:57.431Z] [runtime-status] [67976] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:07:57.431Z] [runtime-status] [67976] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:07:57.431Z] [runtime-status] [67976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:07:57.432Z] [runtime-status] [67976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:07:57.433Z] [runtime-status] [67976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:07:57.434Z] [runtime-status] [67976] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:07:57.458Z] [runtime-status] [67976] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:07:57.458Z] [runtime-status] [67976] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_3fcadf30eb7d0df2.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_3fcadf30eb7d0df2.sock"}}
[debug] [2023-11-10T09:07:57.509Z] [worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: IDLE"}}
[debug] [2023-11-10T09:07:57.509Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:07:57.510Z] [worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: BUSY"}}
[debug] [2023-11-10T09:07:57.513Z] [runtime-status] [67976] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"13cf5aa6-de1b-4f7c-9791-060018cea195","subject":"documents/fun-test/IabyAGGdl1pYK7e11mFh","time":"2023-11-10T09:07:56Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/IabyAGGdl1pYK7e11mFh","data":{"type":"Buffer","data":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,73,97,98,121,65,71,71,100,108,49,112,89,75,55,101,49,49,109,70,104,18,9,10,1,97,18,4,138,1,1,97,26,11,8,236,229,183,170,6,16,224,149,224,101,34,11,8,236,229,183,170,6,16,224,149,224,101,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [67976] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"13cf5aa6-de1b-4f7c-9791-060018cea195\",\"subject\":\"documents/fun-test/IabyAGGdl1pYK7e11mFh\",\"time\":\"2023-11-10T09:07:56Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/IabyAGGdl1pYK7e11mFh\",\"data\":{\"type\":\"Buffer\",\"data\":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,73,97,98,121,65,71,71,100,108,49,112,89,75,55,101,49,49,109,70,104,18,9,10,1,97,18,4,138,1,1,97,26,11,8,236,229,183,170,6,16,224,149,224,101,34,11,8,236,229,183,170,6,16,224,149,224,101,26,0]}}"}}
[warn] ⚠  functions: TypeError: Cannot read properties of undefined (reading 'origin')
    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:219:40
    at optionsCallback (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:204:7)
    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:39:3
    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16
    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)
    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)
    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"TypeError: Cannot read properties of undefined (reading 'origin')\n    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:219:40\n    at optionsCallback (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:204:7)\n    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:39:3\n    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16\n    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)\n    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2023-11-10T09:07:57.523Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onDocumentWritten" in 13.8975ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finished \"us-central1-onDocumentWritten\" in 13.8975ms"}}
[debug] [2023-11-10T09:07:57.525Z] [worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: IDLE"}}
[debug] [2023-11-10T09:07:57.526Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-10T09:07:57.526Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-10T09:07:57.526Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:07:57.527Z] [worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: exited"}}
[debug] [2023-11-10T09:07:57.527Z] [worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-bb2140da-3388-4cd2-a733-bb6c565ed51e]: FINISHED"}}
[debug] [2023-11-10T09:07:57.537Z] Nov 10, 2023 4:07:57 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2
WARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error
POST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0
Cannot read properties of undefined (reading 'origin')
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:07:57 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2\nWARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error\nPOST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0\nCannot read properties of undefined (reading 'origin')\n"}}
[debug] [2023-11-10T09:08:41.956Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:08:42.959Z] Validating nodejs source
[debug] [2023-11-10T09:08:43.592Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:08:43.592Z] Building nodejs source
[debug] [2023-11-10T09:08:43.592Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:08:43.594Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:08:43.595Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8946

[debug] [2023-11-10T09:08:43.860Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:08:51.369Z] Nov 10, 2023 4:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:08:51.370Z] Nov 10, 2023 4:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 10, 2023 4:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nNov 10, 2023 4:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:08:55.630Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:08:55.630Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:08:55.630Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:08:55.630Z"],"workRunningCount":1}
[debug] [2023-11-10T09:08:55.630Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:08:55.637Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:08:55.637Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[debug] [2023-11-10T09:08:55.637Z] [worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:08:55.645Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:08:55.646Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:08:55.683Z] Nov 10, 2023 4:08:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:08:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:08:55.696Z] Nov 10, 2023 4:08:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:08:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:08:56.478Z] [runtime-status] [68109] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:08:56.478Z] [runtime-status] [68109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:08:56.479Z] [runtime-status] [68109] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:08:56.479Z] [runtime-status] [68109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:08:56.646Z] [runtime-status] [68109] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:08:56.646Z] [runtime-status] [68109] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:08:56.647Z] [runtime-status] [68109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:08:56.647Z] [runtime-status] [68109] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:08:56.649Z] [runtime-status] [68109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:08:56.649Z] [runtime-status] [68109] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:08:56.674Z] [runtime-status] [68109] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:08:56.674Z] [runtime-status] [68109] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_45d97b8c9148efcb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_45d97b8c9148efcb.sock"}}
[debug] [2023-11-10T09:08:56.765Z] [worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: IDLE"}}
[debug] [2023-11-10T09:08:56.765Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:08:56.766Z] [worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: BUSY"}}
[debug] [2023-11-10T09:08:56.769Z] [runtime-status] [68109] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"aafc8222-b007-42b8-8707-12ea63e87067","subject":"documents/fun-test/QaxHtXIt9Anxb6wHHTS1","time":"2023-11-10T09:08:55Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/QaxHtXIt9Anxb6wHHTS1","data":{"type":"Buffer","data":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,81,97,120,72,116,88,73,116,57,65,110,120,98,54,119,72,72,84,83,49,18,9,10,1,97,18,4,138,1,1,97,26,12,8,167,230,183,170,6,16,224,184,184,163,2,34,12,8,167,230,183,170,6,16,224,184,184,163,2,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68109] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"aafc8222-b007-42b8-8707-12ea63e87067\",\"subject\":\"documents/fun-test/QaxHtXIt9Anxb6wHHTS1\",\"time\":\"2023-11-10T09:08:55Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/QaxHtXIt9Anxb6wHHTS1\",\"data\":{\"type\":\"Buffer\",\"data\":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,81,97,120,72,116,88,73,116,57,65,110,120,98,54,119,72,72,84,83,49,18,9,10,1,97,18,4,138,1,1,97,26,12,8,167,230,183,170,6,16,224,184,184,163,2,34,12,8,167,230,183,170,6,16,224,184,184,163,2,26,0]}}"}}
[warn] ⚠  functions: TypeError: Cannot read properties of undefined (reading 'origin')
    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:219:40
    at optionsCallback (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:204:7)
    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:39:3
    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16
    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)
    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)
    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"TypeError: Cannot read properties of undefined (reading 'origin')\n    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:219:40\n    at optionsCallback (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/cors/lib/index.js:204:7)\n    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:39:3\n    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16\n    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)\n    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-11-10T09:08:56.780Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:08:56.781Z] [worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: exited"}}
[debug] [2023-11-10T09:08:56.781Z] [worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-cf05449c-0668-4c83-b4d9-7534d27eb9d8]: FINISHED"}}
[debug] [2023-11-10T09:08:56.786Z] Nov 10, 2023 4:08:56 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2
WARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error
POST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0
{"code":"ECONNRESET"}
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:08:56 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2\nWARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error\nPOST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0\n{\"code\":\"ECONNRESET\"}\n"}}
[debug] [2023-11-10T09:09:34.486Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:09:35.489Z] Validating nodejs source
[debug] [2023-11-10T09:09:36.094Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:09:36.095Z] Building nodejs source
[debug] [2023-11-10T09:09:36.095Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:09:36.096Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:09:36.097Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8367

[error] /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:39
  cors(req, res()=> {
            ^^^^

SyntaxError: Malformed arrow function parameter list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at loadModule (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/runtime/loader.js:93:23)

[debug] [2023-11-10T09:09:36.252Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Malformed arrow function parameter list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-10T09:09:37.325Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:09:38.327Z] Validating nodejs source
[debug] [2023-11-10T09:09:38.860Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:09:38.860Z] Building nodejs source
[debug] [2023-11-10T09:09:38.860Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:09:38.861Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:09:38.862Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8872

[debug] [2023-11-10T09:09:39.055Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:09:55.684Z] Nov 10, 2023 4:09:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:09:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:09:55.695Z] Nov 10, 2023 4:09:55 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:09:55 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-11-10T09:09:55.752Z] Nov 10, 2023 4:09:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:09:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:09:57.919Z] Nov 10, 2023 4:09:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:09:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:09:57.921Z] Nov 10, 2023 4:09:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 10, 2023 4:09:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:09:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nNov 10, 2023 4:09:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:10:01.022Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:10:01.022Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:10:01.022Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:10:01.022Z"],"workRunningCount":1}
[debug] [2023-11-10T09:10:01.022Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:10:01.027Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:10:01.027Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[debug] [2023-11-10T09:10:01.027Z] [worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:10:01.032Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:10:01.032Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:10:01.067Z] Nov 10, 2023 4:10:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:10:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:10:01.773Z] [runtime-status] [68237] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:10:01.773Z] [runtime-status] [68237] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:01.773Z] [runtime-status] [68237] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:10:01.774Z] [runtime-status] [68237] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:01.924Z] [runtime-status] [68237] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:10:01.924Z] [runtime-status] [68237] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:10:01.924Z] [runtime-status] [68237] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:01.925Z] [runtime-status] [68237] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:10:01.926Z] [runtime-status] [68237] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:01.926Z] [runtime-status] [68237] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:10:01.951Z] [runtime-status] [68237] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:10:01.952Z] [runtime-status] [68237] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_24937a61728f2bc1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_24937a61728f2bc1.sock"}}
[debug] [2023-11-10T09:10:02.049Z] [worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: IDLE"}}
[debug] [2023-11-10T09:10:02.049Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:10:02.049Z] [worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: BUSY"}}
[debug] [2023-11-10T09:10:02.052Z] [runtime-status] [68237] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"a28da621-d3e8-4bf2-89ca-7e40ee13d2da","subject":"documents/fun-test/vi1fOt4F7roQxmeTkhd3","time":"2023-11-10T09:10:01Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/vi1fOt4F7roQxmeTkhd3","data":{"type":"Buffer","data":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,118,105,49,102,79,116,52,70,55,114,111,81,120,109,101,84,107,104,100,51,18,9,10,1,97,18,4,138,1,1,97,26,11,8,233,230,183,170,6,16,248,133,226,4,34,11,8,233,230,183,170,6,16,248,133,226,4,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68237] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"a28da621-d3e8-4bf2-89ca-7e40ee13d2da\",\"subject\":\"documents/fun-test/vi1fOt4F7roQxmeTkhd3\",\"time\":\"2023-11-10T09:10:01Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/vi1fOt4F7roQxmeTkhd3\",\"data\":{\"type\":\"Buffer\",\"data\":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,118,105,49,102,79,116,52,70,55,114,111,81,120,109,101,84,107,104,100,51,18,9,10,1,97,18,4,138,1,1,97,26,11,8,233,230,183,170,6,16,248,133,226,4,34,11,8,233,230,183,170,6,16,248,133,226,4,26,0]}}"}}
[warn] ⚠  functions: ReferenceError: req is not defined
    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:39:8
    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16
    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)
    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)
    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27
    at Layer.handle [as handle_request] (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)
    at next (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)
    at next (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:140:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"ReferenceError: req is not defined\n    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:39:8\n    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16\n    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)\n    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)\n    at next (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:140:7)"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-11-10T09:10:02.065Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:10:02.066Z] [worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: exited"}}
[debug] [2023-11-10T09:10:02.066Z] [worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-9285355f-0264-46ca-b6d3-0aa811812790]: FINISHED"}}
[debug] [2023-11-10T09:10:02.068Z] Nov 10, 2023 4:10:02 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2
WARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error
POST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0
{"code":"ECONNRESET"}
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:10:02 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2\nWARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error\nPOST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0\n{\"code\":\"ECONNRESET\"}\n"}}
[debug] [2023-11-10T09:10:35.257Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:10:36.259Z] Validating nodejs source
[debug] [2023-11-10T09:10:37.804Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:10:37.804Z] Building nodejs source
[debug] [2023-11-10T09:10:37.804Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:10:37.806Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:10:37.808Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8294

[debug] [2023-11-10T09:10:38.052Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:10:43.599Z] Nov 10, 2023 4:10:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:10:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:10:43.602Z] Nov 10, 2023 4:10:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 10, 2023 4:10:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:10:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nNov 10, 2023 4:10:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:10:46.827Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:10:46.826Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:10:46.827Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:10:46.826Z"],"workRunningCount":1}
[debug] [2023-11-10T09:10:46.827Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:10:46.834Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:10:46.834Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[debug] [2023-11-10T09:10:46.834Z] [worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:10:46.840Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:10:46.840Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:10:46.872Z] Nov 10, 2023 4:10:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:10:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:10:46.885Z] Nov 10, 2023 4:10:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:10:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:10:47.566Z] [runtime-status] [68320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:10:47.566Z] [runtime-status] [68320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:47.566Z] [runtime-status] [68320] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:10:47.567Z] [runtime-status] [68320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:47.735Z] [runtime-status] [68320] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:10:47.735Z] [runtime-status] [68320] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:10:47.735Z] [runtime-status] [68320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:47.736Z] [runtime-status] [68320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:10:47.737Z] [runtime-status] [68320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:10:47.737Z] [runtime-status] [68320] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:10:47.764Z] [runtime-status] [68320] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:10:47.764Z] [runtime-status] [68320] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_a80d4b7aaf2811ca.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_a80d4b7aaf2811ca.sock"}}
[debug] [2023-11-10T09:10:47.861Z] [worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: IDLE"}}
[debug] [2023-11-10T09:10:47.861Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:10:47.861Z] [worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: BUSY"}}
[debug] [2023-11-10T09:10:47.865Z] [runtime-status] [68320] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"23d2328a-7f4b-4eb9-a621-51cc65f07ab5","subject":"documents/fun-test/G4We7s4wywBQcN1613YB","time":"2023-11-10T09:10:46Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/G4We7s4wywBQcN1613YB","data":{"type":"Buffer","data":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,71,52,87,101,55,115,52,119,121,119,66,81,99,78,49,54,49,51,89,66,18,9,10,1,97,18,4,138,1,1,97,26,12,8,150,231,183,170,6,16,168,186,221,131,3,34,12,8,150,231,183,170,6,16,168,186,221,131,3,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68320] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"23d2328a-7f4b-4eb9-a621-51cc65f07ab5\",\"subject\":\"documents/fun-test/G4We7s4wywBQcN1613YB\",\"time\":\"2023-11-10T09:10:46Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/G4We7s4wywBQcN1613YB\",\"data\":{\"type\":\"Buffer\",\"data\":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,71,52,87,101,55,115,52,119,121,119,66,81,99,78,49,54,49,51,89,66,18,9,10,1,97,18,4,138,1,1,97,26,12,8,150,231,183,170,6,16,168,186,221,131,3,34,12,8,150,231,183,170,6,16,168,186,221,131,3,26,0]}}"}}
[warn] ⚠  functions: AxiosError: Unknown adapter 'http://localhost:8000/predict'
    at Function.getAdapter (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/axios/dist/node/axios.cjs:3551:17)
    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:40:9
    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16
    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)
    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)
    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)
    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27
    at Layer.handle [as handle_request] (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)
    at next (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"AxiosError: Unknown adapter 'http://localhost:8000/predict'\n    at Function.getAdapter (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/axios/dist/node/axios.cjs:3551:17)\n    at /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js:40:9\n    at func (/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v2/providers/firestore.js:239:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:524:16\n    at runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:15)\n    at runCloudEvent (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:523:11)\n    at processBackground (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:490:16)\n    at /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:690:27\n    at Layer.handle [as handle_request] (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/local/lib/node_modules/firebase-tools/node_modules/express/lib/router/route.js:144:13)"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-11-10T09:10:47.876Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:10:47.876Z] [worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: exited"}}
[debug] [2023-11-10T09:10:47.876Z] [worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-877c1d91-9b65-4f35-8e80-74eb20d78f93]: FINISHED"}}
[debug] [2023-11-10T09:10:47.878Z] Nov 10, 2023 4:10:47 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2
WARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error
POST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0
{"code":"ECONNRESET"}
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:10:47 PM com.google.cloud.datastore.emulator.impl.events.FunctionsEmulatorEventPublisher sendHttpRequestV2\nWARNING: Unsuccessful HTTP response when publishing v2 event for projects/capstone-c501/eventarcTriggers/us-central1-onDocumentWritten-0: 500 Internal Server Error\nPOST http://127.0.0.1:5001/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0\n{\"code\":\"ECONNRESET\"}\n"}}
[debug] [2023-11-10T09:10:59.634Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:11:00.637Z] Validating nodejs source
[debug] [2023-11-10T09:11:01.403Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:11:01.403Z] Building nodejs source
[debug] [2023-11-10T09:11:01.403Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:11:01.405Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:11:01.406Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8631

[debug] [2023-11-10T09:11:01.629Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:11:04.787Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:11:05.790Z] Validating nodejs source
[debug] [2023-11-10T09:11:06.341Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:11:06.341Z] Building nodejs source
[debug] [2023-11-10T09:11:06.341Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:11:06.342Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:11:06.342Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8366

[debug] [2023-11-10T09:11:06.600Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:11:10.805Z] Nov 10, 2023 4:11:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:11:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:11:10.805Z] Nov 10, 2023 4:11:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:11:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:11:14.877Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:11:14.877Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:11:14.878Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:11:14.877Z"],"workRunningCount":1}
[debug] [2023-11-10T09:11:14.878Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:11:14.883Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:11:14.883Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[debug] [2023-11-10T09:11:14.884Z] [worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:11:14.887Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:11:14.887Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:11:15.607Z] [runtime-status] [68383] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:11:15.608Z] [runtime-status] [68383] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:15.608Z] [runtime-status] [68383] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:11:15.609Z] [runtime-status] [68383] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:15.757Z] [runtime-status] [68383] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:11:15.757Z] [runtime-status] [68383] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:11:15.757Z] [runtime-status] [68383] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:15.758Z] [runtime-status] [68383] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:11:15.759Z] [runtime-status] [68383] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:15.759Z] [runtime-status] [68383] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:11:15.780Z] [runtime-status] [68383] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:11:15.780Z] [runtime-status] [68383] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_61f57eb3d17c1a4b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_61f57eb3d17c1a4b.sock"}}
[debug] [2023-11-10T09:11:15.804Z] [worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: IDLE"}}
[debug] [2023-11-10T09:11:15.804Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:11:15.804Z] [worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: BUSY"}}
[debug] [2023-11-10T09:11:15.807Z] [runtime-status] [68383] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"446448d1-c6e3-43d5-bb5c-c88f28c901eb","subject":"documents/fun-test/R3J6kFNKlAF2h0UjsrLS","time":"2023-11-10T09:11:14Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/R3J6kFNKlAF2h0UjsrLS","data":{"type":"Buffer","data":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,82,51,74,54,107,70,78,75,108,65,70,50,104,48,85,106,115,114,76,83,18,9,10,1,97,18,4,138,1,1,97,26,12,8,178,231,183,170,6,16,168,240,134,154,3,34,12,8,178,231,183,170,6,16,168,240,134,154,3,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68383] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"446448d1-c6e3-43d5-bb5c-c88f28c901eb\",\"subject\":\"documents/fun-test/R3J6kFNKlAF2h0UjsrLS\",\"time\":\"2023-11-10T09:11:14Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/R3J6kFNKlAF2h0UjsrLS\",\"data\":{\"type\":\"Buffer\",\"data\":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,82,51,74,54,107,70,78,75,108,65,70,50,104,48,85,106,115,114,76,83,18,9,10,1,97,18,4,138,1,1,97,26,12,8,178,231,183,170,6,16,168,240,134,154,3,34,12,8,178,231,183,170,6,16,168,240,134,154,3,26,0]}}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"Document written"} {"user":{"structuredData":true,"severity":"INFO","message":"Document written"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"Document written\"}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: '446448d1-c6e3-43d5-bb5c-c88f28c901eb',\n  subject: 'documents/fun-test/R3J6kFNKlAF2h0UjsrLS',\n  time: '2023-11-10T09:11:14Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/R3J6kFNKlAF2h0UjsrLS',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: 'R3J6kFNKlAF2h0UjsrLS' }\n}"} {"user":{"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: '446448d1-c6e3-43d5-bb5c-c88f28c901eb',\n  subject: 'documents/fun-test/R3J6kFNKlAF2h0UjsrLS',\n  time: '2023-11-10T09:11:14Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/R3J6kFNKlAF2h0UjsrLS',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: 'R3J6kFNKlAF2h0UjsrLS' }\n}"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"{\\n  specversion: '1.0',\\n  type: 'google.cloud.firestore.document.v1.written',\\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\\n  id: '446448d1-c6e3-43d5-bb5c-c88f28c901eb',\\n  subject: 'documents/fun-test/R3J6kFNKlAF2h0UjsrLS',\\n  time: '2023-11-10T09:11:14Z',\\n  location: 'us-central1',\\n  project: 'capstone-c501',\\n  database: '(default)',\\n  namespace: '(default)',\\n  document: 'fun-test/R3J6kFNKlAF2h0UjsrLS',\\n  data: Change {\\n    before: DocumentSnapshot {\\n      _fieldsProto: undefined,\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: undefined,\\n      _updateTime: undefined\\n    },\\n    after: QueryDocumentSnapshot {\\n      _fieldsProto: [Object],\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: [Timestamp],\\n      _updateTime: [Timestamp]\\n    }\\n  },\\n  params: { id: 'R3J6kFNKlAF2h0UjsrLS' }\\n}\"}"}}
[debug] [2023-11-10T09:11:15.832Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onDocumentWritten" in 29.266708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finished \"us-central1-onDocumentWritten\" in 29.266708ms"}}
[debug] [2023-11-10T09:11:15.834Z] [worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: IDLE"}}
[debug] [2023-11-10T09:11:15.834Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-10T09:11:15.835Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-10T09:11:15.835Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    status: 200, {"user":"  status: 200,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 200,"}}
[info] >    statusText: 'OK', {"user":"  statusText: 'OK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusText: 'OK',"}}
[info] >    headers: Object [AxiosHeaders] { {"user":"  headers: Object [AxiosHeaders] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: Object [AxiosHeaders] {"}}
[info] >      date: 'Fri, 10 Nov 2023 09:11:15 GMT', {"user":"    date: 'Fri, 10 Nov 2023 09:11:15 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Fri, 10 Nov 2023 09:11:15 GMT',"}}
[info] >      server: 'uvicorn', {"user":"    server: 'uvicorn',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'uvicorn',"}}
[info] >      'content-length': '44', {"user":"    'content-length': '44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '44',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      connection: 'close' {"user":"    connection: 'close'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'close'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    config: { {"user":"  config: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   config: {"}}
[info] >      transitional: { {"user":"    transitional: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     transitional: {"}}
[info] >        silentJSONParsing: true, {"user":"      silentJSONParsing: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       silentJSONParsing: true,"}}
[info] >        forcedJSONParsing: true, {"user":"      forcedJSONParsing: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       forcedJSONParsing: true,"}}
[info] >        clarifyTimeoutError: false {"user":"      clarifyTimeoutError: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       clarifyTimeoutError: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      adapter: [ 'xhr', 'http' ], {"user":"    adapter: [ 'xhr', 'http' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     adapter: [ 'xhr', 'http' ],"}}
[info] >      transformRequest: [ [Function: transformRequest] ], {"user":"    transformRequest: [ [Function: transformRequest] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     transformRequest: [ [Function: transformRequest] ],"}}
[info] >      transformResponse: [ [Function: transformResponse] ], {"user":"    transformResponse: [ [Function: transformResponse] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     transformResponse: [ [Function: transformResponse] ],"}}
[info] >      timeout: 0, {"user":"    timeout: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     timeout: 0,"}}
[info] >      xsrfCookieName: 'XSRF-TOKEN', {"user":"    xsrfCookieName: 'XSRF-TOKEN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     xsrfCookieName: 'XSRF-TOKEN',"}}
[info] >      xsrfHeaderName: 'X-XSRF-TOKEN', {"user":"    xsrfHeaderName: 'X-XSRF-TOKEN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     xsrfHeaderName: 'X-XSRF-TOKEN',"}}
[info] >      maxContentLength: -1, {"user":"    maxContentLength: -1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     maxContentLength: -1,"}}
[info] >      maxBodyLength: -1, {"user":"    maxBodyLength: -1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     maxBodyLength: -1,"}}
[info] >      env: { FormData: [Function], Blob: [class Blob] }, {"user":"    env: { FormData: [Function], Blob: [class Blob] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     env: { FormData: [Function], Blob: [class Blob] },"}}
[info] >      validateStatus: [Function: validateStatus], {"user":"    validateStatus: [Function: validateStatus],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     validateStatus: [Function: validateStatus],"}}
[info] >      headers: Object [AxiosHeaders] { {"user":"    headers: Object [AxiosHeaders] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: Object [AxiosHeaders] {"}}
[info] >        Accept: 'application/json, text/plain, */*', {"user":"      Accept: 'application/json, text/plain, */*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       Accept: 'application/json, text/plain, */*',"}}
[info] >        'Content-Type': undefined, {"user":"      'Content-Type': undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Content-Type': undefined,"}}
[info] >        'User-Agent': 'axios/1.6.1', {"user":"      'User-Agent': 'axios/1.6.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'User-Agent': 'axios/1.6.1',"}}
[info] >        'Accept-Encoding': 'gzip, compress, deflate, br' {"user":"      'Accept-Encoding': 'gzip, compress, deflate, br'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Accept-Encoding': 'gzip, compress, deflate, br'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      method: 'get', {"user":"    method: 'get',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     method: 'get',"}}
[info] >      url: 'http://localhost:8000/predict', {"user":"    url: 'http://localhost:8000/predict',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     url: 'http://localhost:8000/predict',"}}
[info] >      data: undefined {"user":"    data: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: undefined"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    request: <ref *1> ClientRequest { {"user":"  request: <ref *1> ClientRequest {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   request: <ref *1> ClientRequest {"}}
[info] >      _events: [Object: null prototype] { {"user":"    _events: [Object: null prototype] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _events: [Object: null prototype] {"}}
[info] >        abort: [Function (anonymous)], {"user":"      abort: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       abort: [Function (anonymous)],"}}
[info] >        aborted: [Function (anonymous)], {"user":"      aborted: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       aborted: [Function (anonymous)],"}}
[info] >        connect: [Function (anonymous)], {"user":"      connect: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       connect: [Function (anonymous)],"}}
[info] >        error: [Function (anonymous)], {"user":"      error: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       error: [Function (anonymous)],"}}
[info] >        socket: [Function (anonymous)], {"user":"      socket: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       socket: [Function (anonymous)],"}}
[info] >        timeout: [Function (anonymous)], {"user":"      timeout: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       timeout: [Function (anonymous)],"}}
[info] >        finish: [Function: requestOnFinish] {"user":"      finish: [Function: requestOnFinish]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       finish: [Function: requestOnFinish]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _eventsCount: 7, {"user":"    _eventsCount: 7,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _eventsCount: 7,"}}
[info] >      _maxListeners: undefined, {"user":"    _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _maxListeners: undefined,"}}
[info] >      outputData: [], {"user":"    outputData: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     outputData: [],"}}
[info] >      outputSize: 0, {"user":"    outputSize: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     outputSize: 0,"}}
[info] >      writable: true, {"user":"    writable: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     writable: true,"}}
[info] >      destroyed: false, {"user":"    destroyed: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     destroyed: false,"}}
[info] >      _last: true, {"user":"    _last: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _last: true,"}}
[info] >      chunkedEncoding: false, {"user":"    chunkedEncoding: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     chunkedEncoding: false,"}}
[info] >      shouldKeepAlive: false, {"user":"    shouldKeepAlive: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     shouldKeepAlive: false,"}}
[info] >      maxRequestsOnConnectionReached: false, {"user":"    maxRequestsOnConnectionReached: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     maxRequestsOnConnectionReached: false,"}}
[info] >      _defaultKeepAlive: true, {"user":"    _defaultKeepAlive: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _defaultKeepAlive: true,"}}
[info] >      useChunkedEncodingByDefault: false, {"user":"    useChunkedEncodingByDefault: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     useChunkedEncodingByDefault: false,"}}
[info] >      sendDate: false, {"user":"    sendDate: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     sendDate: false,"}}
[info] >      _removedConnection: false, {"user":"    _removedConnection: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _removedConnection: false,"}}
[info] >      _removedContLen: false, {"user":"    _removedContLen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _removedContLen: false,"}}
[info] >      _removedTE: false, {"user":"    _removedTE: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _removedTE: false,"}}
[info] >      strictContentLength: false, {"user":"    strictContentLength: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     strictContentLength: false,"}}
[info] >      _contentLength: 0, {"user":"    _contentLength: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _contentLength: 0,"}}
[info] >      _hasBody: true, {"user":"    _hasBody: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _hasBody: true,"}}
[info] >      _trailer: '', {"user":"    _trailer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _trailer: '',"}}
[info] >      finished: true, {"user":"    finished: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     finished: true,"}}
[info] >      _headerSent: true, {"user":"    _headerSent: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _headerSent: true,"}}
[info] >      _closed: false, {"user":"    _closed: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _closed: false,"}}
[info] >      socket: Socket { {"user":"    socket: Socket {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: Socket {"}}
[info] >        connecting: false, {"user":"      connecting: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       connecting: false,"}}
[info] >        _hadError: false, {"user":"      _hadError: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _hadError: false,"}}
[info] >        _parent: null, {"user":"      _parent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _parent: null,"}}
[info] >        _host: 'localhost', {"user":"      _host: 'localhost',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _host: 'localhost',"}}
[info] >        _closeAfterHandlingError: false, {"user":"      _closeAfterHandlingError: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _closeAfterHandlingError: false,"}}
[info] >        _readableState: [ReadableState], {"user":"      _readableState: [ReadableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _readableState: [ReadableState],"}}
[info] >        _events: [Object: null prototype], {"user":"      _events: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _events: [Object: null prototype],"}}
[info] >        _eventsCount: 7, {"user":"      _eventsCount: 7,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _eventsCount: 7,"}}
[info] >        _maxListeners: undefined, {"user":"      _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _maxListeners: undefined,"}}
[info] >        _writableState: [WritableState], {"user":"      _writableState: [WritableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _writableState: [WritableState],"}}
[info] >        allowHalfOpen: false, {"user":"      allowHalfOpen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowHalfOpen: false,"}}
[info] >        _sockname: null, {"user":"      _sockname: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _sockname: null,"}}
[info] >        _pendingData: null, {"user":"      _pendingData: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _pendingData: null,"}}
[info] >        _pendingEncoding: '', {"user":"      _pendingEncoding: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _pendingEncoding: '',"}}
[info] >        server: null, {"user":"      server: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: null,"}}
[info] >        _server: null, {"user":"      _server: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _server: null,"}}
[info] >        parser: null, {"user":"      parser: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       parser: null,"}}
[info] >        _httpMessage: [Circular *1], {"user":"      _httpMessage: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _httpMessage: [Circular *1],"}}
[info] >        [Symbol(async_id_symbol)]: 54, {"user":"      [Symbol(async_id_symbol)]: 54,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(async_id_symbol)]: 54,"}}
[info] >        [Symbol(kHandle)]: [TCP], {"user":"      [Symbol(kHandle)]: [TCP],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kHandle)]: [TCP],"}}
[info] >        [Symbol(lastWriteQueueSize)]: 0, {"user":"      [Symbol(lastWriteQueueSize)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(lastWriteQueueSize)]: 0,"}}
[info] >        [Symbol(timeout)]: null, {"user":"      [Symbol(timeout)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(timeout)]: null,"}}
[info] >        [Symbol(kBuffer)]: null, {"user":"      [Symbol(kBuffer)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBuffer)]: null,"}}
[info] >        [Symbol(kBufferCb)]: null, {"user":"      [Symbol(kBufferCb)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferCb)]: null,"}}
[info] >        [Symbol(kBufferGen)]: null, {"user":"      [Symbol(kBufferGen)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferGen)]: null,"}}
[info] >        [Symbol(kCapture)]: false, {"user":"      [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kCapture)]: false,"}}
[info] >        [Symbol(kSetNoDelay)]: true, {"user":"      [Symbol(kSetNoDelay)]: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetNoDelay)]: true,"}}
[info] >        [Symbol(kSetKeepAlive)]: true, {"user":"      [Symbol(kSetKeepAlive)]: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetKeepAlive)]: true,"}}
[info] >        [Symbol(kSetKeepAliveInitialDelay)]: 60, {"user":"      [Symbol(kSetKeepAliveInitialDelay)]: 60,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetKeepAliveInitialDelay)]: 60,"}}
[info] >        [Symbol(kBytesRead)]: 0, {"user":"      [Symbol(kBytesRead)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBytesRead)]: 0,"}}
[info] >        [Symbol(kBytesWritten)]: 0 {"user":"      [Symbol(kBytesWritten)]: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBytesWritten)]: 0"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _header: 'GET /predict HTTP/1.1\r\n' + {"user":"    _header: 'GET /predict HTTP/1.1\\r\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _header: 'GET /predict HTTP/1.1\\r\\n' +"}}
[info] >        'Accept: application/json, text/plain, */*\r\n' + {"user":"      'Accept: application/json, text/plain, */*\\r\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Accept: application/json, text/plain, */*\\r\\n' +"}}
[info] >        'User-Agent: axios/1.6.1\r\n' + {"user":"      'User-Agent: axios/1.6.1\\r\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'User-Agent: axios/1.6.1\\r\\n' +"}}
[info] >        'Accept-Encoding: gzip, compress, deflate, br\r\n' + {"user":"      'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Accept-Encoding: gzip, compress, deflate, br\\r\\n' +"}}
[info] >        'Host: localhost:8000\r\n' + {"user":"      'Host: localhost:8000\\r\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Host: localhost:8000\\r\\n' +"}}
[info] >        'Connection: close\r\n' + {"user":"      'Connection: close\\r\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Connection: close\\r\\n' +"}}
[info] >        '\r\n', {"user":"      '\\r\\n',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       '\\r\\n',"}}
[info] >      _keepAliveTimeout: 0, {"user":"    _keepAliveTimeout: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _keepAliveTimeout: 0,"}}
[info] >      _onPendingData: [Function: nop], {"user":"    _onPendingData: [Function: nop],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _onPendingData: [Function: nop],"}}
[info] >      agent: Agent { {"user":"    agent: Agent {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     agent: Agent {"}}
[info] >        _events: [Object: null prototype], {"user":"      _events: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _events: [Object: null prototype],"}}
[info] >        _eventsCount: 2, {"user":"      _eventsCount: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _eventsCount: 2,"}}
[info] >        _maxListeners: undefined, {"user":"      _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _maxListeners: undefined,"}}
[info] >        defaultPort: 80, {"user":"      defaultPort: 80,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       defaultPort: 80,"}}
[info] >        protocol: 'http:', {"user":"      protocol: 'http:',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       protocol: 'http:',"}}
[info] >        options: [Object: null prototype], {"user":"      options: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       options: [Object: null prototype],"}}
[info] >        requests: [Object: null prototype] {}, {"user":"      requests: [Object: null prototype] {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       requests: [Object: null prototype] {},"}}
[info] >        sockets: [Object: null prototype], {"user":"      sockets: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       sockets: [Object: null prototype],"}}
[info] >        freeSockets: [Object: null prototype] {}, {"user":"      freeSockets: [Object: null prototype] {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       freeSockets: [Object: null prototype] {},"}}
[info] >        keepAliveMsecs: 1000, {"user":"      keepAliveMsecs: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       keepAliveMsecs: 1000,"}}
[info] >        keepAlive: false, {"user":"      keepAlive: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       keepAlive: false,"}}
[info] >        maxSockets: Infinity, {"user":"      maxSockets: Infinity,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       maxSockets: Infinity,"}}
[info] >        maxFreeSockets: 256, {"user":"      maxFreeSockets: 256,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       maxFreeSockets: 256,"}}
[info] >        scheduling: 'lifo', {"user":"      scheduling: 'lifo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       scheduling: 'lifo',"}}
[info] >        maxTotalSockets: Infinity, {"user":"      maxTotalSockets: Infinity,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       maxTotalSockets: Infinity,"}}
[info] >        totalSocketCount: 1, {"user":"      totalSocketCount: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       totalSocketCount: 1,"}}
[info] >        [Symbol(kCapture)]: false {"user":"      [Symbol(kCapture)]: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kCapture)]: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      socketPath: undefined, {"user":"    socketPath: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     socketPath: undefined,"}}
[info] >      method: 'GET', {"user":"    method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     method: 'GET',"}}
[info] >      maxHeaderSize: undefined, {"user":"    maxHeaderSize: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     maxHeaderSize: undefined,"}}
[info] >      insecureHTTPParser: undefined, {"user":"    insecureHTTPParser: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     insecureHTTPParser: undefined,"}}
[info] >      joinDuplicateHeaders: undefined, {"user":"    joinDuplicateHeaders: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     joinDuplicateHeaders: undefined,"}}
[info] >      path: '/predict', {"user":"    path: '/predict',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     path: '/predict',"}}
[info] >      _ended: true, {"user":"    _ended: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _ended: true,"}}
[info] >      res: IncomingMessage { {"user":"    res: IncomingMessage {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     res: IncomingMessage {"}}
[info] >        _readableState: [ReadableState], {"user":"      _readableState: [ReadableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _readableState: [ReadableState],"}}
[info] >        _events: [Object: null prototype], {"user":"      _events: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _events: [Object: null prototype],"}}
[info] >        _eventsCount: 4, {"user":"      _eventsCount: 4,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _eventsCount: 4,"}}
[info] >        _maxListeners: undefined, {"user":"      _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _maxListeners: undefined,"}}
[info] >        socket: [Socket], {"user":"      socket: [Socket],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       socket: [Socket],"}}
[info] >        httpVersionMajor: 1, {"user":"      httpVersionMajor: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       httpVersionMajor: 1,"}}
[info] >        httpVersionMinor: 1, {"user":"      httpVersionMinor: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       httpVersionMinor: 1,"}}
[info] >        httpVersion: '1.1', {"user":"      httpVersion: '1.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       httpVersion: '1.1',"}}
[info] >        complete: true, {"user":"      complete: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       complete: true,"}}
[info] >        rawHeaders: [Array], {"user":"      rawHeaders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       rawHeaders: [Array],"}}
[info] >        rawTrailers: [], {"user":"      rawTrailers: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       rawTrailers: [],"}}
[info] >        joinDuplicateHeaders: undefined, {"user":"      joinDuplicateHeaders: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       joinDuplicateHeaders: undefined,"}}
[info] >        aborted: false, {"user":"      aborted: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       aborted: false,"}}
[info] >        upgrade: false, {"user":"      upgrade: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       upgrade: false,"}}
[info] >        url: '', {"user":"      url: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       url: '',"}}
[info] >        method: null, {"user":"      method: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       method: null,"}}
[info] >        statusCode: 200, {"user":"      statusCode: 200,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       statusCode: 200,"}}
[info] >        statusMessage: 'OK', {"user":"      statusMessage: 'OK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       statusMessage: 'OK',"}}
[info] >        client: [Socket], {"user":"      client: [Socket],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       client: [Socket],"}}
[info] >        _consuming: false, {"user":"      _consuming: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _consuming: false,"}}
[info] >        _dumped: false, {"user":"      _dumped: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _dumped: false,"}}
[info] >        req: [Circular *1], {"user":"      req: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       req: [Circular *1],"}}
[info] >        responseUrl: 'http://localhost:8000/predict', {"user":"      responseUrl: 'http://localhost:8000/predict',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       responseUrl: 'http://localhost:8000/predict',"}}
[info] >        redirects: [], {"user":"      redirects: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       redirects: [],"}}
[info] >        [Symbol(kCapture)]: false, {"user":"      [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kCapture)]: false,"}}
[info] >        [Symbol(kHeaders)]: [Object], {"user":"      [Symbol(kHeaders)]: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kHeaders)]: [Object],"}}
[info] >        [Symbol(kHeadersCount)]: 10, {"user":"      [Symbol(kHeadersCount)]: 10,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kHeadersCount)]: 10,"}}
[info] >        [Symbol(kTrailers)]: null, {"user":"      [Symbol(kTrailers)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kTrailers)]: null,"}}
[info] >        [Symbol(kTrailersCount)]: 0 {"user":"      [Symbol(kTrailersCount)]: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kTrailersCount)]: 0"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      aborted: false, {"user":"    aborted: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     aborted: false,"}}
[info] >      timeoutCb: null, {"user":"    timeoutCb: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     timeoutCb: null,"}}
[info] >      upgradeOrConnect: false, {"user":"    upgradeOrConnect: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     upgradeOrConnect: false,"}}
[info] >      parser: null, {"user":"    parser: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     parser: null,"}}
[info] >      maxHeadersCount: null, {"user":"    maxHeadersCount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     maxHeadersCount: null,"}}
[info] >      reusedSocket: false, {"user":"    reusedSocket: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     reusedSocket: false,"}}
[info] >      host: 'localhost', {"user":"    host: 'localhost',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     host: 'localhost',"}}
[info] >      protocol: 'http:', {"user":"    protocol: 'http:',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     protocol: 'http:',"}}
[info] >      _redirectable: Writable { {"user":"    _redirectable: Writable {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     _redirectable: Writable {"}}
[info] >        _writableState: [WritableState], {"user":"      _writableState: [WritableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _writableState: [WritableState],"}}
[info] >        _events: [Object: null prototype], {"user":"      _events: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _events: [Object: null prototype],"}}
[info] >        _eventsCount: 3, {"user":"      _eventsCount: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _eventsCount: 3,"}}
[info] >        _maxListeners: undefined, {"user":"      _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _maxListeners: undefined,"}}
[info] >        _options: [Object], {"user":"      _options: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _options: [Object],"}}
[info] >        _ended: true, {"user":"      _ended: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _ended: true,"}}
[info] >        _ending: true, {"user":"      _ending: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _ending: true,"}}
[info] >        _redirectCount: 0, {"user":"      _redirectCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _redirectCount: 0,"}}
[info] >        _redirects: [], {"user":"      _redirects: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _redirects: [],"}}
[info] >        _requestBodyLength: 0, {"user":"      _requestBodyLength: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _requestBodyLength: 0,"}}
[info] >        _requestBodyBuffers: [], {"user":"      _requestBodyBuffers: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _requestBodyBuffers: [],"}}
[info] >        _onNativeResponse: [Function (anonymous)], {"user":"      _onNativeResponse: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _onNativeResponse: [Function (anonymous)],"}}
[info] >        _currentRequest: [Circular *1], {"user":"      _currentRequest: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _currentRequest: [Circular *1],"}}
[info] >        _currentUrl: 'http://localhost:8000/predict', {"user":"      _currentUrl: 'http://localhost:8000/predict',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       _currentUrl: 'http://localhost:8000/predict',"}}
[info] >        [Symbol(kCapture)]: false {"user":"      [Symbol(kCapture)]: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kCapture)]: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      [Symbol(kCapture)]: false, {"user":"    [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCapture)]: false,"}}
[info] >      [Symbol(kBytesWritten)]: 0, {"user":"    [Symbol(kBytesWritten)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kBytesWritten)]: 0,"}}
[info] >      [Symbol(kNeedDrain)]: false, {"user":"    [Symbol(kNeedDrain)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kNeedDrain)]: false,"}}
[info] >      [Symbol(corked)]: 0, {"user":"    [Symbol(corked)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(corked)]: 0,"}}
[info] >      [Symbol(kOutHeaders)]: [Object: null prototype] { {"user":"    [Symbol(kOutHeaders)]: [Object: null prototype] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kOutHeaders)]: [Object: null prototype] {"}}
[info] >        accept: [Array], {"user":"      accept: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       accept: [Array],"}}
[info] >        'user-agent': [Array], {"user":"      'user-agent': [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'user-agent': [Array],"}}
[info] >        'accept-encoding': [Array], {"user":"      'accept-encoding': [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       'accept-encoding': [Array],"}}
[info] >        host: [Array] {"user":"      host: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m       host: [Array]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      [Symbol(errored)]: null, {"user":"    [Symbol(errored)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(errored)]: null,"}}
[info] >      [Symbol(kUniqueHeaders)]: null {"user":"    [Symbol(kUniqueHeaders)]: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kUniqueHeaders)]: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    data: { message: 'Hello this is predict endpoint' } {"user":"  data: { message: 'Hello this is predict endpoint' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m   data: { message: 'Hello this is predict endpoint' }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-10T09:11:44.942Z] Nov 10, 2023 4:11:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:11:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:11:49.089Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:11:50.092Z] Validating nodejs source
[debug] [2023-11-10T09:11:50.707Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:11:50.707Z] Building nodejs source
[debug] [2023-11-10T09:11:50.707Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:11:50.709Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:11:50.710Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8688

[debug] [2023-11-10T09:11:50.966Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:11:50.973Z] [worker-pool] Shutting down IDLE worker (us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:11:50.973Z] [worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: FINISHING"}}
[debug] [2023-11-10T09:11:50.980Z] [worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: exited"}}
[debug] [2023-11-10T09:11:50.980Z] [worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-3364153c-fe5e-4a7c-88d4-88e02998828d]: FINISHED"}}
[debug] [2023-11-10T09:11:55.104Z] Nov 10, 2023 4:11:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:11:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:11:55.105Z] Nov 10, 2023 4:11:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:11:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:11:55.106Z] Nov 10, 2023 4:11:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:11:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:11:58.995Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:11:58.995Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:11:58.995Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:11:58.995Z"],"workRunningCount":1}
[debug] [2023-11-10T09:11:58.996Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:11:59.001Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:11:59.001Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[debug] [2023-11-10T09:11:59.001Z] [worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:11:59.005Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:11:59.005Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:11:59.741Z] [runtime-status] [68449] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:11:59.742Z] [runtime-status] [68449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:59.742Z] [runtime-status] [68449] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:11:59.743Z] [runtime-status] [68449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:59.890Z] [runtime-status] [68449] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:11:59.891Z] [runtime-status] [68449] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:11:59.891Z] [runtime-status] [68449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:59.892Z] [runtime-status] [68449] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:11:59.893Z] [runtime-status] [68449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:11:59.893Z] [runtime-status] [68449] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:11:59.917Z] [runtime-status] [68449] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:11:59.918Z] [runtime-status] [68449] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_5269bc68e4d2f4ca.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_5269bc68e4d2f4ca.sock"}}
[debug] [2023-11-10T09:11:59.922Z] [worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: IDLE"}}
[debug] [2023-11-10T09:11:59.922Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:11:59.923Z] [worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: BUSY"}}
[debug] [2023-11-10T09:11:59.927Z] [runtime-status] [68449] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"dfd04f29-7fce-47ae-99e5-c6bd93a633fc","subject":"documents/fun-test/5XEFwQGR8lILbL8nBO3k","time":"2023-11-10T09:11:58Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/5XEFwQGR8lILbL8nBO3k","data":{"type":"Buffer","data":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,53,88,69,70,119,81,71,82,56,108,73,76,98,76,56,110,66,79,51,107,18,9,10,1,97,18,4,138,1,1,97,26,12,8,222,231,183,170,6,16,152,156,218,210,3,34,12,8,222,231,183,170,6,16,152,156,218,210,3,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68449] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"dfd04f29-7fce-47ae-99e5-c6bd93a633fc\",\"subject\":\"documents/fun-test/5XEFwQGR8lILbL8nBO3k\",\"time\":\"2023-11-10T09:11:58Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/5XEFwQGR8lILbL8nBO3k\",\"data\":{\"type\":\"Buffer\",\"data\":[10,123,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,53,88,69,70,119,81,71,82,56,108,73,76,98,76,56,110,66,79,51,107,18,9,10,1,97,18,4,138,1,1,97,26,12,8,222,231,183,170,6,16,152,156,218,210,3,34,12,8,222,231,183,170,6,16,152,156,218,210,3,26,0]}}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"Document written"} {"user":{"structuredData":true,"severity":"INFO","message":"Document written"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"Document written\"}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: 'dfd04f29-7fce-47ae-99e5-c6bd93a633fc',\n  subject: 'documents/fun-test/5XEFwQGR8lILbL8nBO3k',\n  time: '2023-11-10T09:11:58Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/5XEFwQGR8lILbL8nBO3k',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: '5XEFwQGR8lILbL8nBO3k' }\n}"} {"user":{"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: 'dfd04f29-7fce-47ae-99e5-c6bd93a633fc',\n  subject: 'documents/fun-test/5XEFwQGR8lILbL8nBO3k',\n  time: '2023-11-10T09:11:58Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/5XEFwQGR8lILbL8nBO3k',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: '5XEFwQGR8lILbL8nBO3k' }\n}"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"{\\n  specversion: '1.0',\\n  type: 'google.cloud.firestore.document.v1.written',\\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\\n  id: 'dfd04f29-7fce-47ae-99e5-c6bd93a633fc',\\n  subject: 'documents/fun-test/5XEFwQGR8lILbL8nBO3k',\\n  time: '2023-11-10T09:11:58Z',\\n  location: 'us-central1',\\n  project: 'capstone-c501',\\n  database: '(default)',\\n  namespace: '(default)',\\n  document: 'fun-test/5XEFwQGR8lILbL8nBO3k',\\n  data: Change {\\n    before: DocumentSnapshot {\\n      _fieldsProto: undefined,\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: undefined,\\n      _updateTime: undefined\\n    },\\n    after: QueryDocumentSnapshot {\\n      _fieldsProto: [Object],\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: [Timestamp],\\n      _updateTime: [Timestamp]\\n    }\\n  },\\n  params: { id: '5XEFwQGR8lILbL8nBO3k' }\\n}\"}"}}
[debug] [2023-11-10T09:11:59.942Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onDocumentWritten" in 19.896375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finished \"us-central1-onDocumentWritten\" in 19.896375ms"}}
[debug] [2023-11-10T09:11:59.943Z] [worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: IDLE"}}
[debug] [2023-11-10T09:11:59.943Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-10T09:11:59.943Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-10T09:11:59.943Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Hello this is predict endpoint {"user":"Hello this is predict endpoint","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m Hello this is predict endpoint"}}
[debug] [2023-11-10T09:12:00.335Z] Nov 10, 2023 4:12:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:12:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:12:52.773Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:12:53.777Z] Validating nodejs source
[debug] [2023-11-10T09:12:55.183Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:12:55.184Z] Building nodejs source
[debug] [2023-11-10T09:12:55.184Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:12:55.188Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:12:55.189Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8815

[debug] [2023-11-10T09:12:55.409Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:12:55.414Z] [worker-pool] Shutting down IDLE worker (us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:12:55.415Z] [worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: FINISHING"}}
[debug] [2023-11-10T09:12:55.422Z] [worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: exited"}}
[debug] [2023-11-10T09:12:55.423Z] [worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ccdccba0-ac5b-491b-8f64-baef91cb1afa]: FINISHED"}}
[debug] [2023-11-10T09:12:59.028Z] Nov 10, 2023 4:12:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:12:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:12:59.036Z] Nov 10, 2023 4:12:59 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:12:59 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-11-10T09:12:59.077Z] Nov 10, 2023 4:12:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:12:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:13:00.201Z] Nov 10, 2023 4:13:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:13:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:13:00.202Z] Nov 10, 2023 4:13:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:13:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:13:00.203Z] Nov 10, 2023 4:13:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:13:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:13:04.064Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:13:04.063Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:13:04.064Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:13:04.063Z"],"workRunningCount":1}
[debug] [2023-11-10T09:13:04.064Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:13:04.068Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:13:04.069Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[debug] [2023-11-10T09:13:04.069Z] [worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:13:04.073Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:13:04.074Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:13:04.094Z] Nov 10, 2023 4:13:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:13:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:13:04.103Z] Nov 10, 2023 4:13:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:13:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:13:04.797Z] [runtime-status] [68534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:13:04.798Z] [runtime-status] [68534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:13:04.798Z] [runtime-status] [68534] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:13:04.799Z] [runtime-status] [68534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:13:04.950Z] [runtime-status] [68534] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:13:04.950Z] [runtime-status] [68534] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:13:04.950Z] [runtime-status] [68534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:13:04.951Z] [runtime-status] [68534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:13:04.952Z] [runtime-status] [68534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:13:04.952Z] [runtime-status] [68534] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:13:04.977Z] [runtime-status] [68534] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:13:04.978Z] [runtime-status] [68534] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_6770388c5e36545a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_6770388c5e36545a.sock"}}
[debug] [2023-11-10T09:13:04.993Z] [worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: IDLE"}}
[debug] [2023-11-10T09:13:04.993Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:13:04.993Z] [worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: BUSY"}}
[debug] [2023-11-10T09:13:04.996Z] [runtime-status] [68534] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"04ea6e96-421f-47a3-b939-928c01157deb","subject":"documents/fun-test/MpPILrIXHEZ4BMqe9Ygp","time":"2023-11-10T09:13:04Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/MpPILrIXHEZ4BMqe9Ygp","data":{"type":"Buffer","data":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,77,112,80,73,76,114,73,88,72,69,90,52,66,77,113,101,57,89,103,112,18,9,10,1,97,18,4,138,1,1,97,26,11,8,160,232,183,170,6,16,160,232,243,23,34,11,8,160,232,183,170,6,16,160,232,243,23,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68534] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"04ea6e96-421f-47a3-b939-928c01157deb\",\"subject\":\"documents/fun-test/MpPILrIXHEZ4BMqe9Ygp\",\"time\":\"2023-11-10T09:13:04Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/MpPILrIXHEZ4BMqe9Ygp\",\"data\":{\"type\":\"Buffer\",\"data\":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,77,112,80,73,76,114,73,88,72,69,90,52,66,77,113,101,57,89,103,112,18,9,10,1,97,18,4,138,1,1,97,26,11,8,160,232,183,170,6,16,160,232,243,23,34,11,8,160,232,183,170,6,16,160,232,243,23,26,0]}}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"Document written"} {"user":{"structuredData":true,"severity":"INFO","message":"Document written"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"Document written\"}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: '04ea6e96-421f-47a3-b939-928c01157deb',\n  subject: 'documents/fun-test/MpPILrIXHEZ4BMqe9Ygp',\n  time: '2023-11-10T09:13:04Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/MpPILrIXHEZ4BMqe9Ygp',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: 'MpPILrIXHEZ4BMqe9Ygp' }\n}"} {"user":{"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: '04ea6e96-421f-47a3-b939-928c01157deb',\n  subject: 'documents/fun-test/MpPILrIXHEZ4BMqe9Ygp',\n  time: '2023-11-10T09:13:04Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/MpPILrIXHEZ4BMqe9Ygp',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: 'MpPILrIXHEZ4BMqe9Ygp' }\n}"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"{\\n  specversion: '1.0',\\n  type: 'google.cloud.firestore.document.v1.written',\\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\\n  id: '04ea6e96-421f-47a3-b939-928c01157deb',\\n  subject: 'documents/fun-test/MpPILrIXHEZ4BMqe9Ygp',\\n  time: '2023-11-10T09:13:04Z',\\n  location: 'us-central1',\\n  project: 'capstone-c501',\\n  database: '(default)',\\n  namespace: '(default)',\\n  document: 'fun-test/MpPILrIXHEZ4BMqe9Ygp',\\n  data: Change {\\n    before: DocumentSnapshot {\\n      _fieldsProto: undefined,\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: undefined,\\n      _updateTime: undefined\\n    },\\n    after: QueryDocumentSnapshot {\\n      _fieldsProto: [Object],\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: [Timestamp],\\n      _updateTime: [Timestamp]\\n    }\\n  },\\n  params: { id: 'MpPILrIXHEZ4BMqe9Ygp' }\\n}\"}"}}
[debug] [2023-11-10T09:13:05.010Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onDocumentWritten" in 17.214167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finished \"us-central1-onDocumentWritten\" in 17.214167ms"}}
[debug] [2023-11-10T09:13:05.011Z] [worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: IDLE"}}
[debug] [2023-11-10T09:13:05.011Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-10T09:13:05.011Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-10T09:13:05.011Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Hello this is predict endpoint {"user":"Hello this is predict endpoint","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m Hello this is predict endpoint"}}
[debug] [2023-11-10T09:13:42.546Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:13:43.549Z] Validating nodejs source
[debug] [2023-11-10T09:13:44.230Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:13:44.230Z] Building nodejs source
[debug] [2023-11-10T09:13:44.230Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:13:44.232Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:13:44.233Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8864

[debug] [2023-11-10T09:13:44.455Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:13:44.462Z] [worker-pool] Shutting down IDLE worker (us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:13:44.462Z] [worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: FINISHING"}}
[debug] [2023-11-10T09:13:44.471Z] [worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: exited"}}
[debug] [2023-11-10T09:13:44.471Z] [worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-ce75bbe0-1123-40e4-9eb2-eea9d03510f8]: FINISHED"}}
[debug] [2023-11-10T09:14:04.085Z] Nov 10, 2023 4:14:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:14:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:14:04.092Z] Nov 10, 2023 4:14:04 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:14:04 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-11-10T09:14:04.130Z] Nov 10, 2023 4:14:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:14:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:14:12.556Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:14:13.558Z] Validating nodejs source
[debug] [2023-11-10T09:14:14.155Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:14:14.155Z] Building nodejs source
[debug] [2023-11-10T09:14:14.155Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:14:14.156Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:14:14.157Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8700

[debug] [2023-11-10T09:14:14.361Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:14:18.326Z] File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ahmadyazidnaufan/Repo/firebase-function/test/index.js changed, reloading triggers"}}
[debug] [2023-11-10T09:14:19.328Z] Validating nodejs source
[debug] [2023-11-10T09:14:19.884Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "fix": "eslint --fix .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.1",
    "cors": "^2.8.5",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-10T09:14:19.885Z] Building nodejs source
[debug] [2023-11-10T09:14:19.885Z] Failed to find version of module node: reached end of search path /Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:14:19.886Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-10T09:14:19.887Z] Found firebase-functions binary at '/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/.bin/firebase-functions'
[info] Serving at port 8850

[debug] [2023-11-10T09:14:20.093Z] Got response from /__/functions.yaml {"endpoints":{"onDocumentWritten":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"fun-test/{id}"},"retry":false},"entryPoint":"onDocumentWritten"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: onDocumentWritten. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onDocumentWritten."}}
[debug] [2023-11-10T09:15:04.186Z] Nov 10, 2023 4:15:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:15:04 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:15:52.000Z] Nov 10, 2023 4:15:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Nov 10, 2023 4:15:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:15:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nNov 10, 2023 4:15:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:15:52.004Z] Nov 10, 2023 4:15:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:15:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:15:55.069Z] Nov 10, 2023 4:15:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:15:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:15:55.072Z] [work-queue] {"queuedWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:15:55.072Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-10T09:15:55.072Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0-2023-11-10T09:15:55.072Z"],"workRunningCount":1}
[debug] [2023-11-10T09:15:55.072Z] Accepted request POST /functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0 --> us-central1-onDocumentWritten-0
[debug] [2023-11-10T09:15:55.078Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-10T09:15:55.078Z] [functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/capstone-c501/triggers/us-central1-onDocumentWritten-0, mapping to path=/functions/projects/"}}
[debug] [2023-11-10T09:15:55.079Z] [worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-onDocumentWritten: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-10T09:15:55.083Z] [worker-pool] addWorker(us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-onDocumentWritten)"}}
[debug] [2023-11-10T09:15:55.083Z] [worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-onDocumentWritten, total=1"}}
[debug] [2023-11-10T09:15:55.125Z] Nov 10, 2023 4:15:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 10, 2023 4:15:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-11-10T09:15:55.922Z] [runtime-status] [68791] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:15:55.923Z] [runtime-status] [68791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:15:55.924Z] [runtime-status] [68791] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-10T09:15:55.924Z] [runtime-status] [68791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:15:56.100Z] [runtime-status] [68791] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-10T09:15:56.101Z] [runtime-status] [68791] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-10T09:15:56.101Z] [runtime-status] [68791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:15:56.102Z] [runtime-status] [68791] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-10T09:15:56.103Z] [runtime-status] [68791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-10T09:15:56.103Z] [runtime-status] [68791] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-10T09:15:56.130Z] [runtime-status] [68791] Functions runtime initialized. {"cwd":"/Users/ahmadyazidnaufan/Repo/firebase-function/test","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Functions runtime initialized. {\"cwd\":\"/Users/ahmadyazidnaufan/Repo/firebase-function/test\",\"node_version\":\"18.16.0\"}"}}
[debug] [2023-11-10T09:15:56.130Z] [runtime-status] [68791] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_0878980694642a67.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] Listening to port: /var/folders/81/_g6jpz9j3djbyv1znj30stg00000gn/T/fire_emu_0878980694642a67.sock"}}
[debug] [2023-11-10T09:15:56.203Z] [worker-us-central1-onDocumentWritten-4f078e5b-4d8e-4274-8b67-5d00cb4f197f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-4f078e5b-4d8e-4274-8b67-5d00cb4f197f]: IDLE"}}
[debug] [2023-11-10T09:15:56.203Z] [worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-onDocumentWritten)"}}
[info] i  functions: Beginning execution of "us-central1-onDocumentWritten" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Beginning execution of \"us-central1-onDocumentWritten\""}}
[debug] [2023-11-10T09:15:56.204Z] [worker-us-central1-onDocumentWritten-4f078e5b-4d8e-4274-8b67-5d00cb4f197f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-4f078e5b-4d8e-4274-8b67-5d00cb4f197f]: BUSY"}}
[debug] [2023-11-10T09:15:56.207Z] [runtime-status] [68791] RunCloudEvent {"specversion":"1.0","type":"google.cloud.firestore.document.v1.written","source":"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)","id":"164d9521-a4dc-496e-92bc-68e605bbf8b6","subject":"documents/fun-test/v9uvxogsa32KMpNy7w2a","time":"2023-11-10T09:15:55Z","datacontenttype":"application/protobuf","dataschema":"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto","location":"us-central1","project":"capstone-c501","database":"(default)","namespace":"(default)","document":"fun-test/v9uvxogsa32KMpNy7w2a","data":{"type":"Buffer","data":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,118,57,117,118,120,111,103,115,97,51,50,75,77,112,78,121,55,119,50,97,18,9,10,1,97,18,4,138,1,1,97,26,11,8,203,233,183,170,6,16,240,178,251,28,34,11,8,203,233,183,170,6,16,240,178,251,28,26,0]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[runtime-status] [68791] RunCloudEvent {\"specversion\":\"1.0\",\"type\":\"google.cloud.firestore.document.v1.written\",\"source\":\"//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)\",\"id\":\"164d9521-a4dc-496e-92bc-68e605bbf8b6\",\"subject\":\"documents/fun-test/v9uvxogsa32KMpNy7w2a\",\"time\":\"2023-11-10T09:15:55Z\",\"datacontenttype\":\"application/protobuf\",\"dataschema\":\"https://github.com/googleapis/google-cloudevents/blob/main/proto/google/events/cloud/firestore/v1/data.proto\",\"location\":\"us-central1\",\"project\":\"capstone-c501\",\"database\":\"(default)\",\"namespace\":\"(default)\",\"document\":\"fun-test/v9uvxogsa32KMpNy7w2a\",\"data\":{\"type\":\"Buffer\",\"data\":[10,121,10,82,112,114,111,106,101,99,116,115,47,99,97,112,115,116,111,110,101,45,99,53,48,49,47,100,97,116,97,98,97,115,101,115,47,40,100,101,102,97,117,108,116,41,47,100,111,99,117,109,101,110,116,115,47,102,117,110,45,116,101,115,116,47,118,57,117,118,120,111,103,115,97,51,50,75,77,112,78,121,55,119,50,97,18,9,10,1,97,18,4,138,1,1,97,26,11,8,203,233,183,170,6,16,240,178,251,28,34,11,8,203,233,183,170,6,16,240,178,251,28,26,0]}}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"Document written"} {"user":{"structuredData":true,"severity":"INFO","message":"Document written"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"Document written\"}"}}
[info] >  {"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: '164d9521-a4dc-496e-92bc-68e605bbf8b6',\n  subject: 'documents/fun-test/v9uvxogsa32KMpNy7w2a',\n  time: '2023-11-10T09:15:55Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/v9uvxogsa32KMpNy7w2a',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: 'v9uvxogsa32KMpNy7w2a' }\n}"} {"user":{"structuredData":true,"severity":"INFO","message":"{\n  specversion: '1.0',\n  type: 'google.cloud.firestore.document.v1.written',\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\n  id: '164d9521-a4dc-496e-92bc-68e605bbf8b6',\n  subject: 'documents/fun-test/v9uvxogsa32KMpNy7w2a',\n  time: '2023-11-10T09:15:55Z',\n  location: 'us-central1',\n  project: 'capstone-c501',\n  database: '(default)',\n  namespace: '(default)',\n  document: 'fun-test/v9uvxogsa32KMpNy7w2a',\n  data: Change {\n    before: DocumentSnapshot {\n      _fieldsProto: undefined,\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: undefined,\n      _updateTime: undefined\n    },\n    after: QueryDocumentSnapshot {\n      _fieldsProto: [Object],\n      _ref: [DocumentReference],\n      _serializer: [Serializer],\n      _readTime: undefined,\n      _createTime: [Timestamp],\n      _updateTime: [Timestamp]\n    }\n  },\n  params: { id: 'v9uvxogsa32KMpNy7w2a' }\n}"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"structuredData\":true,\"severity\":\"INFO\",\"message\":\"{\\n  specversion: '1.0',\\n  type: 'google.cloud.firestore.document.v1.written',\\n  source: '//firestore.googleapis.com/projects/projects/capstone-c501/databases/(default)',\\n  id: '164d9521-a4dc-496e-92bc-68e605bbf8b6',\\n  subject: 'documents/fun-test/v9uvxogsa32KMpNy7w2a',\\n  time: '2023-11-10T09:15:55Z',\\n  location: 'us-central1',\\n  project: 'capstone-c501',\\n  database: '(default)',\\n  namespace: '(default)',\\n  document: 'fun-test/v9uvxogsa32KMpNy7w2a',\\n  data: Change {\\n    before: DocumentSnapshot {\\n      _fieldsProto: undefined,\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: undefined,\\n      _updateTime: undefined\\n    },\\n    after: QueryDocumentSnapshot {\\n      _fieldsProto: [Object],\\n      _ref: [DocumentReference],\\n      _serializer: [Serializer],\\n      _readTime: undefined,\\n      _createTime: [Timestamp],\\n      _updateTime: [Timestamp]\\n    }\\n  },\\n  params: { id: 'v9uvxogsa32KMpNy7w2a' }\\n}\"}"}}
[debug] [2023-11-10T09:15:56.223Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-onDocumentWritten" in 19.908625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finished \"us-central1-onDocumentWritten\" in 19.908625ms"}}
[debug] [2023-11-10T09:15:56.224Z] [worker-us-central1-onDocumentWritten-4f078e5b-4d8e-4274-8b67-5d00cb4f197f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"[worker-us-central1-onDocumentWritten-4f078e5b-4d8e-4274-8b67-5d00cb4f197f]: IDLE"}}
[debug] [2023-11-10T09:15:56.224Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-10T09:15:56.225Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-10T09:15:56.225Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Hello this is predict endpoint {"user":"Hello this is predict endpoint","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-onDocumentWritten"},"extension":{},"message":"\u001b[90m> \u001b[39m Hello this is predict endpoint"}}
